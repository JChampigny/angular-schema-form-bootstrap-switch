!function(e,t){"function"==typeof define&&define.amd?define(["angular-schema-form"],t):"object"==typeof exports?module.exports=t(require("angular-schema-form")):e.angularSchemaFormBootstrapSwitch=t(e.schemaForm)}(this,function(e){return angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/switch/switch.html",'<div class="form-group schema-form-checkbox {{form.htmlClass}}" ng-class="{\\\'has-error\\\': form.disableErrorState !== true && hasError(), \\\'has-success\\\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{ form.title }}</label> <input bs-switch="" data-indeterminate="false" type="checkbox" sf-changed="form" ng-disabled="form.readonly" schema-validate="form" ng-model="$$value$$" ng-model-options="form.ngModelOptions" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"><div class="help-block" sf-message="form.description"></div></div>')}]),function(e,t){"function"==typeof define&&define.amd?define(["angular-schema-form"],t):"object"==typeof exports?module.exports=t(require("angular-schema-form")):e.angularSchemaFormBootstrapSwitch=t(e.schemaForm)}(this,function(e){angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/switch/switch.html",'<div class="form-group schema-form-checkbox {{form.htmlClass}}"     ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}">   <label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{ form.title }}</label>   <input bs-switch data-indeterminate="false" type="checkbox" sf-changed="form" ng-disabled="form.readonly" sf-changed="form" schema-validate="form" ng-model="$$value$$"          ng-model-options="form.ngModelOptions" schema-validate="form" class="{{form.fieldHtmlClass}}"          name="{{form.key.slice(-1)[0]}}"></label>   <div class="help-block" sf-message="form.description"></div></div>')}]),angular.module("schemaForm").directive("bsSwitch",["$parse","$timeout",function(e,t){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",bsSwitch:"="},link:function(o,a,i,r){o.$emit("schemaFormPropagateNgModelController",r);var s=!1,c=o.$parent.$eval(i.validate),n=function(){if("radio"===i.type)return i.value||e(i.ngValue)(o)||!0;var t=e(i.ngTrueValue)(o);return angular.isUndefined(t)&&(t=!0),t},l=function(e){return o.$eval(e)===!0},h=function(e){return e===!0||"true"===e||!e},f=function(e){return e?e:void 0},d=function(e){var t={switchRadioOff:h,switchActive:function(e){return!h(e)},switchAnimate:h,switchLabel:function(e){return e?e:"&nbsp;"},switchIcon:function(e){if(e)return"<span class='"+e+"'></span>"},switchWrapper:function(e){return e||"wrapper"},switchInverse:l,switchReadonly:l},o=t[e]||f;return o(i[e])},u=function(e,t,o){if(s){var a=d(o);e.bootstrapSwitch(t,a)}},m=function(){u(a,"disabled","switchActive")},w=function(){if(!s){var e=r.$modelValue===n();s=!s,a.bootstrapSwitch({radioAllOff:d("switchRadioOff"),disabled:d("switchActive"),state:e,onText:d("switchOnText"),offText:d("switchOffText"),onColor:d("switchOnColor"),offColor:d("switchOffColor"),animate:d("switchAnimate"),size:d("switchSize"),labelText:d(i.switchLabel?"switchLabel":"switchIcon"),wrapperClass:d("switchWrapper"),handleWidth:d("switchHandleWidth"),labelWidth:d("switchLabelWidth"),inverse:d("switchInverse"),readonly:d("switchReadonly")}),"radio"===i.type?r.$setViewValue(r.$modelValue):r.$setViewValue(e)}},p=function(){function e(){return r.$modelValue}i.$observe("switchActive",function(e){var o=h(e);o?m(o):t(function(){m(o)})}),o.$watch(e,function(e){w(),void 0!==e?a.bootstrapSwitch("state",e===n(),!1):a.bootstrapSwitch("toggleIndeterminate",!0,!1)},!0);var s={switchRadioOff:"radioAllOff",switchOnText:"onText",switchOffText:"offText",switchOnColor:"onColor",switchOffColor:"offColor",switchAnimate:"animate",switchSize:"size",switchLabel:"labelText",switchIcon:"labelText",switchWrapper:"wrapperClass",switchHandleWidth:"handleWidth",switchLabelWidth:"labelWidth",switchInverse:"inverse",switchReadonly:"readonly"},c=function(e,t){return function(){i.$observe(e,function(){u(a,t[e],e)})}};for(var l in s)i.$observe(l,c(l,s))},b=function(){"radio"===i.type?a.on("change.bootstrapSwitch",function(e){r.$modelValue===r.$viewValue&&e.target.checked!==$(e.target).bootstrapSwitch("state")&&(e.target.checked?r.$setViewValue(n()):n()===r.$viewValue&&r.$setViewValue(void 0))}):a.on("switchChange.bootstrapSwitch",function(e){r.$setViewValue(e.target.checked)})};b(),p(),o.$on("$destroy",function(){a.bootstrapSwitch("destroy")}),r&&(o.validate=function(){r.$setDirty?(r.$setDirty(),r.$setViewValue(r.$viewValue),r.$commitViewValue(),c.required&&null===r.$modelValue&&void 0===r.$modelValue?r.$setValidity("tv4-302",!1):r.$setValidity("tv4-302",!0),r.$validate()):r.$setViewValue(r.$viewValue)},o.$on("schemaFormValidate",o.validate))}}}]).directive("bsSwitch",function(){return{restrict:"E",require:"ngModel",template:"<input bs-switch>",replace:!0}}),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,o){var a=function(t,a,i){if("boolean"===a.type&&"switch"===a.format){var r=e.stdFormObj(t,a,i);return r.key=i.path,r.type="switch",i.lookup[o.stringify(i.path)]=r,r}};e.defaults["boolean"].unshift(a),t.addMapping("bootstrapDecorator","switch","directives/decorators/bootstrap/switch/switch.html"),t.createDirective("switch","directives/decorators/bootstrap/switch/switch.html")}])}),angularSchemaFormBootstrapSwitch});